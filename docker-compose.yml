version: "3.9"
services:
  web:
    build:
      context: .
      dockerfile: Docker/web/Dockerfile
    command:
#      sh -c "python manage.py migrate && python manage.py runserver 0.0.0.0:8000"
    # Та сама команда але розписана
       - /bin/sh
       - -c
       - |
         python manage.py migrate
         echo "WEB: Migrations process done ..."
         echo " "
         echo "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++"
         echo "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++"
         echo "++                                                                                ++"
         echo "++                            ++          +          ++                           ++"
         echo "++                            ++++       +++       ++++                           ++"
         echo "++                            ++  +     +++++     +  ++                           ++"
         echo "++                            ++  ++    +++++    ++  ++                           ++"
         echo "++                            ++  ++     +++     ++  ++                           ++"
         echo "++                            ++   ++    +++    ++   ++                           ++"
         echo "++                            ++   ++    +++    ++   ++                           ++"
         echo "++                            ++  ++    ++ ++    ++  ++                           ++"
         echo "++                            +++++    ++   ++    +++++                           ++"
         echo "++                            ++ +++++++     +++++++ ++                           ++"
         echo "++                            ++   +++++++++++++++   ++                           ++"
         echo "++                            ++ ++++  ++++++  ++++ +++                           ++"
         echo "++                            +++++++++++++++++++++++++                           ++"
         echo "++                                  ++  ++++  ++                                  ++"
         echo "++                                   ++++++++++                                   ++"
         echo "++                                     ++++++                                     ++"
         echo "++                                       ++                                       ++"
         echo "++                                                                                ++"
         echo "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++"
         echo "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++"
         python manage.py runserver 0.0.0.0:8000
    ports:
      - 8000:8000
    volumes:
      - .:/LoanCalculator
    env_file:
      - .env
